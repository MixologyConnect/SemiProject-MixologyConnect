<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<comment>board-sql.xml</comment>

	<entry key="selectBoardAll">
		SELECT BOARD_NM FROM BOARD_TYPE
		WHERE BOARD_CD = ?
	</entry>

	<!-- 게시글 수 조회  -->
	<entry key="getListCount">
		SELECT COUNT(*) FROM BOARD
		WHERE BOARD_CD = ?
		AND BOARD_ST = 'Y'
	</entry>


	<!-- 게시글 목록 조회  -->
	<entry key="selectBoardList">
		SELECT * FROM(
		SELECT ROWNUM RNUM, A. * FROM(
		SELECT BOARD_NO, BOARD_TITLE,BOARD_CONTENT,
		MEMBER_NM,
		TO_CHAR(BOARD_DT, 'YYYY-MM-DD') AS BOARD_DT,
		READ_COUNT
		FROM BOARD
		JOIN MEMBER USING(MEMBER_NO)
		WHERE BOARD_CD = ?
		AND BOARD_ST = 'Y'
		ORDER BY BOARD_NO DESC
		)A
		)
		WHERE RNUM BETWEEN ? AND ?
  
	</entry>

	<!-- 게시글 상세 조회  -->
	<entry key="selectBoardDetail">
		SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, BOARD_DT, MODIFY_DT, READ_COUNT, MEMBER_NM, MEMBER_NO,  MEMBER_PROFILE, 
		BOARD_NM 
		FROM BOARD
		JOIN MEMBER USING (MEMBER_NO)
		JOIN BOARD_TYPE USING(BOARD_CD)
		WHERE BOARD_NO = ?
		AND BOARD_ST = 'Y'

	</entry>
	
	<!-- 게시글 이미지리스트 조회  -->
	<entry key = "selectImageList">
	SELECT * FROM BOARD_IMG
	WHERE BOARD_NO = ?
	</entry>
	
	<!-- 마이페이지 나의 게시글 수 조회 -->
	<entry key="MyPageListCount">
		SELECT COUNT(*) FROM BOARD
		WHERE MEMBER_NO = ?
		AND BOARD_CD = 1
		AND BOARD_ST = 'Y'
	</entry>
	
	<!-- 마이페이지 나의 게시글 목록조회 -->
	<entry key="MyPageBoardCount">
		SELECT * FROM(
			SELECT ROWNUM RNUM, A. * FROM(
				SELECT BOARD_NO, BOARD_TITLE,BOARD_CONTENT,
				MEMBER_NM,
				TO_CHAR(BOARD_DT, 'YYYY-MM-DD') AS BOARD_DT,
				READ_COUNT
					FROM BOARD
						JOIN MEMBER USING(MEMBER_NO)
							WHERE BOARD_CD = 1
							AND BOARD_ST = 'Y'
							AND MEMBER_NO = ?
							ORDER BY BOARD_NO DESC
				)A
			)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	
	<!-- 북마크 조회 -->
	<entry key="bookMark">
		SELECT BOARD_NO, BOARD_TITLE, MEMBER_NM, READ_COUNT
		FROM BOARD
		JOIN MEMBER USING(MEMBER_NO)
		WHERE BOARD_NO = ?
		AND BOARD_ST = 'Y'
	</entry>
	
	
	
	
</properties>
