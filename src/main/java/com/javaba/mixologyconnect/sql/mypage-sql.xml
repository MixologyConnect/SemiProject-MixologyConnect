<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<comment>mypage-sql.xml</comment>

	<!-- 마이페이지 나의 게시글 수 조회 -->
	<entry key="MyPageListCount">
		SELECT COUNT(*) FROM BOARD
		WHERE MEMBER_NO = ?
		AND
		BOARD_CD = 1
		AND BOARD_ST = 'Y'
	</entry>

	<!-- 마이페이지 나의 게시글 목록조회 -->
	<entry key="MyPageBoardCount">
		SELECT * FROM(
			SELECT ROWNUM RNUM, A. * FROM(
					SELECT BOARD_NO, BOARD_TITLE,BOARD_CONTENT,
					MEMBER_NM,
					TO_CHAR(BOARD_DT, 'YYYY-MM-DD') AS BOARD_DT,
					READ_COUNT
						FROM BOARD
						JOIN MEMBER USING(MEMBER_NO)
							WHERE BOARD_CD = 1
							AND BOARD_ST = 'Y'
							AND MEMBER_NO = ?
						ORDER BY BOARD_NO DESC
				)A
			)
		WHERE RNUM BETWEEN ? AND ?
	</entry>


	<!-- 북마크 조회 -->
	<entry key="selectInfo">
		SELECT BOARD_NO, BOARD_TITLE, MEMBER_NM,TO_CHAR(BOARD_DT, 'YYYY-MM-DD') AS BOARD_DT, READ_COUNT
		FROM BOARD
		JOIN MEMBER USING(MEMBER_NO)
		WHERE BOARD_NO = ?
		
	</entry>
	
	
	<!-- 북마크 조회 -->
	<entry key="selectInfoB">
		SELECT BOARD_NO, BOARD_TITLE, MEMBER_NM,TO_CHAR(BOARD_DT, 'YYYY-MM-DD') AS BOARD_DT, READ_COUNT
		FROM BOARD
		JOIN MEMBER USING(MEMBER_NO)
		WHERE BOARD_NO = ?
		
	</entry>
	
	<!-- 북마크 삽입 -->
	<entry key="insert">
		INSERT INTO BOOKMARK_TB
		VALUES(?, ?, ?, ?, DEFAULT, ?,DEFAULT)
	</entry>
	
	<!-- 북마크 삽입 Board버전 -->
	<entry key="insertB">
		INSERT INTO BOOKMARK
		VALUES(?, ?)
	</entry>
	
	
	<!-- 북마크 테이블 게시글 수 조회 -->
	<entry key="listCount">
		SELECT COUNT(*) FROM BOOKMARK_TB
		WHERE MEMBER_NO = ?
	</entry>
	
	<!-- 북마크 테이블 게시글 수 조회 Board 버전 -->
	<entry key="listCount">
		SELECT COUNT(*) FROM BOOKMARK
		WHERE MEMBER_NO = ?
	</entry>
	
	
	<!-- 북마크 표시 게시글 목록 조회 -->
	<entry key="selectBookmark">
		SELECT * FROM(
			SELECT ROWNUM RNUM, A. * FROM(
					SELECT BOARD_NO, BOARD_TITLE,MEMBER_NICK,
					TO_CHAR(CREATE_DT, 'YYYY-MM-DD') AS CREATE_DT,
					READ_COUNT
						FROM BOOKMARK_TB
                        WHERE MEMBER_NO = ?
                        AND BOARD_ST = 'Y'
						ORDER BY BOARD_NO DESC
				)A
			)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	<!-- 북마크 표시 게시글 목록 조회 Board 버전 -->
	<entry key="selectBookmarkB">
		SELECT * FROM(
			SELECT ROWNUM RNUM, A. * FROM(
					SELECT BOARD_NO, BOARD_TITLE,MEMBER_NICK,
					TO_CHAR(CREATE_DT, 'YYYY-MM-DD') AS CREATE_DT,
					READ_COUNT
						FROM BOOKMARK
                        WHERE MEMBER_NO = ?
                        AND BOARD_ST = 'Y'
						ORDER BY BOARD_NO DESC
				)A
			)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	
	
	<!-- 북마크 버튼 이미지 -->
	<entry key="btnImage">
		SELECT BOARD_NO FROM BOOKMARK_TB
		WHERE BOARD_NO = ?
		AND MEMBER_NO = ?
	</entry>
	
	<!-- 북마크 버튼 이미지 Board 버전 -->
	<entry key="btnImageB">
		SELECT BOARD_NO FROM BOOKMARK
		WHERE BOARD_NO = ?
		AND MEMBER_NO = ?
	</entry>
	
	
	
	<!-- 북마크 해제 -->
	<entry key="delete">
		UPDATE BOOKMARK_TB SET BOARD_ST = 'N'
		WHERE BOARD_NO = ?
		AND MEMBER_NO = ?
	</entry>
	
	
	
	<!-- 마이페이지 삭제 -->
	<entry key="deleteMypage">
		UPDATE BOARD SET BOARD_ST = 'N'
		WHERE BOARD_NO IN
	</entry>



</properties>
